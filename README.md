NodeMCU-Development-Tools ขั้นสุดท้าย
เข้าร่วมแชทได้ที่ https://gitter.im/nodemcu/nodemcu-firmware สร้างสถานะ สถานะเอกสาร ใบอนุญาต

⛔ แบรนช์นี้ถูกระงับในการคอมมิตครั้งสุดท้ายก่อนที่ Espressif SDK จะได้รับการอัปเกรดเป็น 2.0 ⛔
เฟิร์มแวร์ที่ใช้ Lua สำหรับ ESP8266 WiFi SOC
NodeMCUเป็นเฟิร์มแวร์ที่ใช้ eLua สำหรับ ESP8266 WiFi SOC จากEspressif เฟิร์มแวร์ใช้Espressif NON-OS SDK 1.5.4.1และใช้ระบบไฟล์ที่อิงตามspiffs ที่เก็บรหัสประกอบด้วยรหัส C 98.1% ที่ติดแผ่นไม้อัด Lua แบบบางเข้ากับ SDK

เฟิร์มแวร์ NodeMCU เป็นโปรเจ็กต์ร่วมกับ NodeMCU dev kitsยอดนิยมบอร์ดพัฒนาโอเพ่นซอร์สสำเร็จรูปพร้อมชิป ESP8266-12E

สรุป
ง่ายต่อการตั้งโปรแกรมโหนดไร้สายและ/หรือจุดเข้าใช้งาน
อิงตาม Lua 5.1.4 (ไม่มีการดีบักโมดูลระบบปฏิบัติการ)
โมเดลการเขียนโปรแกรมที่ขับเคลื่อนด้วยเหตุการณ์แบบอะซิงโครนัส
40+ โมดูลในตัว
เฟิร์มแวร์มีหรือไม่มีการสนับสนุนจุดลอยตัว (จำนวนเต็มเท่านั้นใช้หน่วยความจำน้อยกว่า)
เอกสารฉบับล่าสุดที่https://nodemcu.readthedocs.io
โมเดลการเขียนโปรแกรม
โมเดลการเขียนโปรแกรม NodeMCU นั้นคล้ายกับของNode.jsเฉพาะใน Lua เป็นแบบอะซิงโครนัสและขับเคลื่อนด้วยเหตุการณ์ หลายฟังก์ชันจึงมีพารามิเตอร์สำหรับฟังก์ชันเรียกกลับ เพื่อให้คุณมีแนวคิดว่าโปรแกรม NodeMCU เป็นอย่างไร ให้ศึกษาตัวอย่างข้อมูลสั้นๆ ด้านล่าง สำหรับตัวอย่างเพิ่มเติม โปรดดูที่/lua_examplesโฟลเดอร์ในที่เก็บบน GitHub

--เซิร์ฟเวอร์ HTTP อย่างง่าย 
srv = net createServer (net. TCP )
srv: ฟัง ( 80 , ฟังก์ชั่น ( conn )
	conn: เปิด ( "รับ" , ฟังก์ชั่น ( sck , เพย์ โหลด )
		 พิมพ์ (เพย์โหลด)
		sck: send ( " HTTP/1.0 200 OK \r\n Content-Type: text/html \r\n\r\n <h1> สวัสดี NodeMCU</h1> " )
	 end )
	conn: เปิด ( "ส่ง" , ฟังก์ชั่น ( sck ) sck: ปิด () end )
 สิ้นสุด )
-เชื่อมต่อกับ WiFi access point 
wifi setmode (wifi. STATION )
อินเตอร์เน็ตไร้สาย สตา config ( " SSID " , "รหัสผ่าน" )
เอกสาร
เอกสาร NodeMCUทั้งหมดถูกเก็บรักษาไว้ในที่เก็บนี้ที่/ docs ความจริงที่ว่าเอกสารประกอบ API ได้รับการดูแลในที่เก็บเดียวกันกับโค้ดที่ให้ API ช่วยให้มั่นใจถึงความสอดคล้องระหว่างทั้งสอง ทุกคอมมิต เอกสารจะถูกสร้างขึ้นใหม่โดย Read the Docs และเปลี่ยนจาก Markdown แบบย่อเป็นไซต์ HTML ที่เรียกดูได้อย่างสวยงามที่https://nodemcu.readthedocs.io

วิธีสร้างเฟิร์มแวร์
วิธีสร้างระบบไฟล์
วิธีแฟลชเฟิร์มแวร์
วิธีอัปโหลดโค้ดและ NodeMCU IDEs
เอกสาร API สำหรับทุกโมดูล
เผยแพร่
เนื่องจากจำนวนโมดูลที่เพิ่มขึ้นเรื่อยๆ ภายใน NodeMCU ไบนารีที่สร้างไว้ล่วงหน้าจึงไม่พร้อมใช้งานอีกต่อไป ใช้ บริการสร้างเฟิร์มแวร์แบบกำหนดเองอัตโนมัติเพื่อรับการกำหนดค่าเฟิร์มแวร์เฉพาะที่คุณต้องการ หรือศึกษาเอกสารประกอบสำหรับตัวเลือกอื่นๆ เพื่อสร้างเฟิร์มแวร์ของคุณเอง

โครงการนี้ใช้สองสาขาหลักmasterและdev. devกำลังทำงานอย่างแข็งขันและยังเป็นที่ที่ควรสร้างการประชาสัมพันธ์ masterจึงถือได้ว่า "เสถียร" แม้ว่าจะไม่มีการทดสอบการถดถอยอัตโนมัติ เป้าหมายคือการรวมกลับเป็นmasterประมาณทุก 2 เดือน ขึ้นอยู่กับ "ความร้อน" ปัจจุบัน (ปัญหา, PR) เรายอมรับการเปลี่ยนแปลงเป็นdevเวลา 5-6 สัปดาห์ และรอ 2-3 สัปดาห์ก่อนที่สแน็ปถัดไปจะเสร็จสมบูรณ์

แท็กใหม่จะถูกสร้างขึ้นทุกครั้งdevที่รวมกลับmasterเป็น มีการระบุไว้ในส่วนการเผยแพร่ที่นี่บน GitHub ชื่อแท็กเป็นไปตามรูปแบบ <SDK-version>-master_yyyymmdd

สนับสนุน
ดูhttps://nodemcu.readthedocs.io/en/dev/en/support/ _

ใบอนุญาต
MIT © zeroday / nodemcu.com

สร้างตัวเลือก
ส่วนต่อไปนี้จะอธิบายตัวเลือกบางอย่างที่คุณมี หากคุณต้องการสร้างเฟิร์มแวร์ NodeMCU ของคุณเอง

เลือกโมดูล
ปิดการใช้งานโมดูลที่คุณจะไม่ได้ใช้เพื่อลดขนาดเฟิร์มแวร์และเพิ่ม RAM บางตัว ESP8266 ค่อนข้างจำกัดใน RAM ที่มีอยู่ และหน่วยความจำไม่เพียงพออาจทำให้ระบบตื่นตระหนก การกำหนดค่าเริ่มต้นได้รับการออกแบบให้ทำงานบนโมดูล ESP ทั้งหมดรวมถึงโมดูล 512 KB เช่น ESP-01 และรวมเฉพาะโมดูลอินเทอร์เฟซสำหรับวัตถุประสงค์ทั่วไปซึ่งต้องใช้พิน GPIO สูงสุดสองตัวเท่านั้น

แก้ไขapp/include/user_modules.hและแสดงความคิดเห็น#defineคำสั่งสำหรับโมดูลที่คุณไม่ต้องการ ตัวอย่าง:

...
# กำหนด LUA_USE_MODULES_MQTT 
// #define LUA_USE_MODULES_COAP 
// #define LUA_USE_MODULES_U8G 
...
แท็กงานสร้างของคุณ
ระบุเฟิร์มแวร์ของคุณที่สร้างโดยการแก้ไข app/include/user_version.h

# กำหนด NODE_VERSION     " NodeMCU 1.5.4.1+ชื่อของฉัน" 
# ifndef BUILD_DATE
# กำหนด BUILD_DATE       " YYYYMMDD " 
# endif
ตั้งค่าอัตราบิต UART
อัตราบอดเริ่มต้นที่เวลาบูตคือ 115200bps คุณสามารถเปลี่ยนได้โดยแก้ไขBIT_RATE_DEFAULTในapp/include/user_config.h:

# กำหนด BIT_RATE_DEFAULT BIT_RATE_115200
โปรดทราบว่าตามค่าเริ่มต้น เฟิร์มแวร์จะเรียกใช้อัลกอริธึมการตรวจจับการรับส่งข้อมูลอัตโนมัติ ดังนั้นการพิมพ์อักขระสองสามตัวในขณะบู๊ตจะทำให้เฟิร์มแวร์ล็อกไปที่อัตรารับส่งข้อมูลนั้น (ระหว่าง 1200 ถึง 230400)

แก้จุดบกพร่อง
เพื่อเปิดใช้งานข้อความดีบักรันไทม์เพื่อแก้ไขคอนโซลอนุกรม app/include/user_config.h

# กำหนด DEVELOP_VERSION
